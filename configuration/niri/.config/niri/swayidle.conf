# Swayidle configuration for DMS lock integration
#
# This configuration sets up idle timeouts that trigger DMS lock screen
# instead of hyprlock.
#
# Timeouts:
# - 300 seconds (5 minutes): Lock the screen using DMS
# - 600 seconds (10 minutes): Turn off displays
# - 900 seconds (15 minutes): Suspend the system
#
# Before sleep: Lock the screen using DMS

# Lock screen after 5 minutes of inactivity
timeout 300 'dms ipc call lock lock' \
    resume 'echo "Screen unlocked"'

# Turn off displays after 10 minutes of inactivity
timeout 600 'niri msg action power-off-monitors' \
    resume 'echo "Displays powered on"'

# Suspend after 15 minutes of inactivity
timeout 900 'systemctl suspend'

# Lock before sleep (systemd sleep events)
before-sleep 'dms ipc call lock lock'

# Lock when systemd requests it (e.g., loginctl lock-session)
lock 'dms ipc call lock lock'
